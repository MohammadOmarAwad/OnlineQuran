import{a as j}from"./chunk-7QVO6AAS.js";import{g as T,i as S,m as C}from"./chunk-6PEMDKXP.js";import{$a as h,Da as i,Ea as f,Qa as w,Sa as M,Y as y,Za as e,_a as n,f as k,g as b,lb as t,mb as d,nb as m,pb as P}from"./chunk-Z7MV2M5O.js";var g=class{static getLocation(){return new Promise((s,a)=>{if(!navigator.geolocation){a("Geolocation not supported");return}navigator.geolocation.getCurrentPosition(o=>{s([o.coords.latitude.toString(),o.coords.longitude.toString()])},o=>a(o))})}static getCityName(){return b(this,null,function*(){let[s,a]=yield this.getLocation(),o=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${s}&lon=${a}`,p=yield(yield fetch(o,{headers:{"User-Agent":"Angular-App"}})).json();return p.address.city||p.address.town||p.address.village||p.address.state})}};var x=k(j()),c=class{static GetDate(){return this.formatDateDMY(new Date)}static formatDateDMY(s){let a=String(s.getDate()).padStart(2,"0"),o=String(s.getMonth()+1).padStart(2,"0"),r=s.getFullYear();return`${a}-${o}-${r}`}static GrtHijriDate(){return(0,x.default)().format("iD iMMMM iYYYY \u0647\u0640")}static GrtHijriDateYear(){return(0,x.default)(this.GetDate(),"DD-MM-YYYY").iYear()}static GrtHijriDateMonth(){return(0,x.default)().iMonth()+1}};function B(l,s){if(l&1&&(e(0,"div",15)(1,"div")(2,"span",9),t(3),n(),h(4,"br"),t(5),e(6,"span",9),t(7),n()(),e(8,"table",10)(9,"tr")(10,"td",11)(11,"span",12),t(12,"Fajr : "),n()(),e(13,"td"),t(14),n()(),e(15,"tr")(16,"td",11)(17,"span",12),t(18,"Dhuhr : "),n()(),e(19,"td"),t(20),n()(),e(21,"tr")(22,"td",11)(23,"span",12),t(24,"Asr : "),n()(),e(25,"td"),t(26),n()(),e(27,"tr")(28,"td",11)(29,"span",12),t(30,"Maghrib : "),n()(),e(31,"td"),t(32),n()(),e(33,"tr")(34,"td",11)(35,"span",12),t(36,"Isha : "),n()(),e(37,"td"),t(38),n()()()()),l&2){let a=s.$implicit;i(3),m(" (",a.date.hijri.weekday.ar,")"),i(2),m(" ",a.date.gregorian.date," "),i(2),m(" (",a.date.hijri.date,")"),i(7),d(a.timings.Fajr),i(6),d(a.timings.Dhuhr),i(6),d(a.timings.Asr),i(6),d(a.timings.Maghrib),i(6),d(a.timings.Isha)}}var z=(()=>{class l{constructor(a){this.http=a}ngOnInit(){g.getLocation().then(a=>{this.callAladhanApi(a[0],a[1])}),g.getCityName().then(a=>{this.CityName=a})}callAladhanApi(a,o){let r="3",p="general",E=c.GrtHijriDateYear(),D=c.GrtHijriDateMonth(),I=`https://api.aladhan.com/v1/hijriCalendar/${E}/${D}?longitude=${a}&latitude=${o}&method=${r}&shafaq=${p}`;this.http.get(I).subscribe(u=>{this.prayTimeModle=u;let O=c.GetDate(),v=u.data.find(_=>_.date.gregorian.date===O);if(!v)throw new Error("Today prayer data not found");this.PrayTimeToday=v,console.log(u)})}static{this.\u0275fac=function(o){return new(o||l)(f(C))}}static{this.\u0275cmp=y({type:l,selectors:[["app-pray-time"]],standalone:!0,features:[P],decls:58,vars:11,consts:[[1,"MainBody",2,"overflow","auto","height","100px","scrollbar-width","none"],[2,"margin-top","5px"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-PrayTime-tab","data-bs-toggle","tab","data-bs-target","#nav-PrayTime","type","button","role","tab","aria-controls","nav-PrayTime","aria-selected","true",1,"nav-link","active","BtnNav"],["id","nav-PrayTimeWholeMonth-tab","data-bs-toggle","tab","data-bs-target","#nav-PrayTimeWholeMonth","type","button","role","tab","aria-controls","nav-PrayTimeWholeMonth","aria-selected","false",1,"nav-link","BtnNav"],["id","nav-tabContent",1,"tab-content",2,"overflow","auto","height","100px","scrollbar-width","none","min-height","82vh"],["id","nav-PrayTime","role","tabpanel","aria-labelledby","nav-PrayTime-tab",1,"tab-pane","DivBox","fade","show","active",2,"line-height","45px","background-color","transparent"],[1,"table-responsive-sm"],[2,"text-align","-webkit-center"],[1,"qword"],[1,"table","table-hover",2,"width","70%"],[2,"text-align","left"],[1,"qword",2,"white-space","nowrap"],["id","nav-PrayTimeWholeMonth","role","tabpanel","aria-labelledby","nav-PrayTimeWholeMonth-tab",1,"tab-pane","fade",2,"line-height","45px","background-color","transparent"],["class","DivBox","style","text-align: -webkit-center;",4,"ngFor","ngForOf"],[1,"DivBox",2,"text-align","-webkit-center"]],template:function(o,r){o&1&&(e(0,"div",0)(1,"div")(2,"nav",1)(3,"div",2)(4,"button",3),t(5,"\u0623\u0648\u0642\u0627\u062A \u0627\u0644\u0635\u0644\u0627\u0629"),n(),e(6,"button",4),t(7,"\u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0647\u0631"),n()()(),e(8,"div",5),h(9,"br"),e(10,"div",6)(11,"div",7)(12,"div"),t(13),n(),e(14,"div",8)(15,"div")(16,"span",9),t(17),n(),h(18,"br"),t(19),e(20,"span",9),t(21),n()(),e(22,"table",10)(23,"tr")(24,"td",11)(25,"span",12),t(26,"Fajr : "),n()(),e(27,"td"),t(28),n()(),e(29,"tr")(30,"td",11)(31,"span",12),t(32,"Dhuhr : "),n()(),e(33,"td"),t(34),n()(),e(35,"tr")(36,"td",11)(37,"span",12),t(38,"Asr : "),n()(),e(39,"td"),t(40),n()(),e(41,"tr")(42,"td",11)(43,"span",12),t(44,"Maghrib : "),n()(),e(45,"td"),t(46),n()(),e(47,"tr")(48,"td",11)(49,"span",12),t(50,"Isha : "),n()(),e(51,"td"),t(52),n()()()()()(),e(53,"div",13)(54,"div",6)(55,"div"),t(56),n(),w(57,B,39,8,"div",14),n()()()()()),o&2&&(i(13),m(" ",r.CityName,""),i(4),m(" (",r.PrayTimeToday.date.hijri.weekday.ar,")"),i(2),m(" ",r.PrayTimeToday.date.gregorian.date," "),i(2),m(" (",r.PrayTimeToday.date.hijri.date,")"),i(7),d(r.PrayTimeToday.timings.Fajr),i(6),d(r.PrayTimeToday.timings.Dhuhr),i(6),d(r.PrayTimeToday.timings.Asr),i(6),d(r.PrayTimeToday.timings.Maghrib),i(6),d(r.PrayTimeToday.timings.Isha),i(4),m(" ",r.CityName,""),i(),M("ngForOf",r.prayTimeModle==null?null:r.prayTimeModle.data))},dependencies:[S,T],styles:["[_nghost-%COMP%]{max-width:1280px;text-align:center}.MainBody[_ngcontent-%COMP%]{width:60%;display:block;margin-left:20%;margin-right:20%;min-height:86vh;font-family:Droid Arabic Kufi}.DivContanier[_ngcontent-%COMP%]{direction:rtl;white-space:nowrap;display:flex;flex-wrap:wrap;padding:10px;align-items:center;justify-content:center}.DivBox[_ngcontent-%COMP%]{margin:5px;align-items:center;justify-content:space-around;border:3px solid #0000;background:linear-gradient(#f5f5f5 0 0) padding-box,repeating-conic-gradient(#5d513c 0 25%,#0000 0 50%) border-box;font-size:x-large;font-weight:700;padding:15px;font-size:20px}.Btn[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 24px;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a;margin:1px}.Btn[_ngcontent-%COMP%]:hover{background-color:#ebf0f0;transform:scale(1.05);box-shadow:0 6px 10px #00000026}.BtnNav[_ngcontent-%COMP%]{font-weight:700;color:#000!important;min-width:20%}.BtnNav[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.05)}select[_ngcontent-%COMP%], [_ngcontent-%COMP%]::picker(select){appearance:base-select;font-weight:700}[_ngcontent-%COMP%]::picker(select){border:none;background:#c8c8c8;margin:.4rem 0}option[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:checked{background:#c8c8c8}.dropdown-content[_ngcontent-%COMP%]{position:absolute;background-color:#d3d3d3;min-width:130px;box-shadow:0 8px 16px #d3d3d3;padding:12px 16px}.qword[_ngcontent-%COMP%]{color:#0f6b9c}@media screen and (min-width: 128px) and (max-width: 900px){.MainBody[_ngcontent-%COMP%]{width:100%;margin-left:1%;margin-right:1%}}@media screen and (max-width: 480px){.dropdown-content[_ngcontent-%COMP%]{position:relative;display:grid;background-color:#d3d3d3;min-width:130px;box-shadow:0 8px 16px #d3d3d3;padding:12px 16px}}@media screen and (min-width: 481px) and (max-width: 900px){.dropdown-content[_ngcontent-%COMP%]{position:relative;display:grid;background-color:#d3d3d3;min-width:130px;box-shadow:0 8px 16px #d3d3d3;padding:12px 16px}.MainBody[_ngcontent-%COMP%]{width:98%}}"]})}}return l})();export{z as PrayTimeComponent};
